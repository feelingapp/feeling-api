# Accounts

## Sign In with Social

An account is created if one does not exist.

`POST /sign-in/social`

| Parameter      | Type     | Description                                              |
| -------------- | -------- | -------------------------------------------------------- |
| `provider`     | `string` | **Required**. The 3rd party sign in provider             |
| `access_token` | `string` | **Required**. The access_token generated by the provider |

### Example Request

```json
{
  "provider": "facebook",
  "access_token": "abc123"
}
```

## Sign In with Email and Password

`POST /sign-in/email`

| Parameter  | Type     | Description                                     |
| ---------- | -------- | ----------------------------------------------- |
| `email`    | `string` | **Required**. The user's email                  |
| `password` | `string` | **Required**. The user's password in plain text |

### Example Request

```json
{
  "email": "michael_lee@gmail.com",
  "password": "foobar"
}
```

## Create an account

`POST /register`

| Parameter    | Type     | Description                                               |
| ------------ | -------- | --------------------------------------------------------- |
| `email`      | `string` | **Required**. The user's email                            |
| `password`   | `string` | **Required**. The user's password in plain text           |
| `first_name` | `string` | **Required**. The user's first name                       |
| `last_name`  | `string` | **Required**. The user's last name                        |
| `social`     | `object` | The user's social sign in details (only Facebook for now) |

### Example Request

```json
{
  "email": "michael_lee@gmail.com",
  "password": "foobar",
  "first_name": "Michael",
  "last_name": "Lee",
  "social": {
    "source": "facebook",
    "id": "12345"
  }
}
```

## Verifying an Email

`GET /verify/:token`

This endpoint should decrypt the token, verify the email and then redirect the user to either the app if available or to a web page to show it their email is verified.